<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script>


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">

    <meta charset="utf-8">
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <link rel="icon" href="">

    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300&display=swap" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    <title>
        Cart
    </title>

</head>

<body>
    <div class="container" style="overflow-x: hidden;" >

        <nav id="nav" class="navbar">
            <div class="content">
                <div class="logo"style="width: 18rem!important;">
                    <a href="#" style="width: 18rem!important;">Wood Styles</a>
                </div>
                <ul class="menu-list">
                    <div class="icon cancel-btn">
                        <i class="fas fa-times"></i>
                    </div>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="product-finding.html" class="aaaa">Products</a></li>
                    <li>
                        <a href="collection.html">Collection</a>
                    </li>
                    <li><a href="custom-Products.html">Custom Products</a></li>
                    <li><a href="#footer">About Us</a> </li>
                    <div class="flex3">

                        <button id="logout-btn" onclick="logout()" class="fas fa-sign-out-alt fa-2x"
                            style="display: none;"></button>


                        <button id="login-btn"
                            onclick="let loginForm = document.querySelector('.login-form-container');loginForm.classList.toggle('active');document.getElementById('usern').style.display = 'none';document.getElementById('register').style.display = 'none';document.getElementById('login').style.display = 'block';document.getElementById('no acc').style.display = 'block';document.getElementById('yes acc').style.display = 'none';document.getElementById('cb').style.display = 'block';document.getElementById('loginh').innerHTML='Sign In';"
                            class="fas fa-user" style="font-size: 1.5rem;"></button>


                        <button id="cart-btn" onclick="window.location.replace('cart.html');"
                            class="fas fa-shopping-cart" style="font-size: 1.5rem;"></button>
                    </div>
                </ul>
                <div class="icon menu-btn">
                    <i class="fas fa-bars"></i>
                </div>

            </div>
        </nav>

        <div class="login-form-container">


            <button id="close-login-btn"
                onclick="let loginForm = document.querySelector('.login-form-container');  loginForm.classList.remove('active');"
                class="fas fa-times"></button>

            <div class=form>
                <h3 id="loginh">sign in</h3>
                <div id="usern">
                    <span>username</span>
                    <input id="username" type="text" name="" class="box" placeholder="enter your full name">
                </div>
                <span>email</span>
                <input id="email" type="email" name="" class="box" placeholder="enter your email">
                <span>password</span>
                <input id="password" type="password" name="" class="box" placeholder="enter your password">



                <div class="button">
                    <button id="login" value="Sign in" class="btn">Sign In</button>

                    <button id="register" value="Register" class="btn">Register</button>

                </div>
                <div class="button">
                    <button id="no acc"
                        onclick="document.getElementById('usern').style.display = 'block';document.getElementById('register').style.display = 'block';document.getElementById('login').style.display = 'none';document.getElementById('no acc').style.display = 'none';document.getElementById('yes acc').style.display = 'block';document.getElementById('cb').style.display = 'none';document.getElementById('loginh').innerHTML='Register';"
                        class="btn">Dont have an Account?</button>
                </div>
                <div class="button1">
                    <button id="yes acc"
                        onclick="document.getElementById('usern').style.display = 'none';document.getElementById('register').style.display = 'none';document.getElementById('login').style.display = 'block';document.getElementById('no acc').style.display = 'block';document.getElementById('yes acc').style.display = 'none';document.getElementById('cb').style.display = 'block';document.getElementById('loginh').innerHTML='Sign In';"
                        class="btn">Already have an Account?</button>
                </div>


            </div>

        </div>

        <h1 id="cartH">Your Shopping Cart</h1>
        <div class="button2 flex1">
            <button class="btn" style="width:20vw ;font-size: 2rem;cursor: pointer;"
                onclick="window.location.replace('product-finding.html');">
                <i class="fas fa-long-arrow-alt-left "></i>
                <b>Continue Shopping</b>
            </button>
            <button class="btn" style="width:20vw ;font-size: 2rem;cursor: pointer;"
                onclick="checkout();">

                <b>Checkout</b>
                <i class="fas fa-long-arrow-alt-right"></i>
            </button>

        </div>
        <div class="tableCart">

            <table id="tablec">

                <tr class="headingstable" id="headingstable">
                    <td></td>
                    <td>Name</td>
                    <td>price</td>
                    <td>Quantity</td>
                </tr>

            </table>


            <div class="cartbuy">
                <div class="cartbuy1">
                    <h1 id="cartH1">Order Summary</h1>
                    <div>
                        <h1 style="padding:.5rem; padding-left:3rem ;">Shipping for your products is free
                        </h1>
                        <div class="flex1">
                            <h1 style="padding:.5rem; padding-left: 3rem;">Sub Total</h1>
                            <h1 style="padding:.5rem; padding-right: 3rem;" id="SubTC"></h1>

                        </div>
                        <div class="flex1">
                            <h1 style="padding:.5rem; padding-left: 3rem;">Shipping Cost</h1>
                            <h1 style="padding:.5rem; padding-right: 3rem;"> + 5 </h1>

                        </div>
                        <div class="flex1">
                            <h1 style="padding:.5rem; padding-left: 3rem;">Shipping Discount</h1>
                            <h1 style="padding:.5rem; padding-right: 3rem;"> - 5 </h1>

                        </div>
                        <div class="flex1">
                            <h1 style="padding:.5rem; padding-left: 3rem;">Total</h1>
                            <h1 style="padding:.5rem; padding-right: 3rem;" id="SubTC1"> </h1>

                        </div>
                        <div align="center">
                            <button class="btn" style="width:70% ;font-size: 2rem;cursor: pointer;"
                                onclick="checkout();">

                                <b>Checkout</b>
                                <i class="fas fa-long-arrow-alt-right"></i>
                            </button>
                        </div>


                    </div>

                </div>
                <div class="flex cartbuy2">
                    <h1 onclick="removecart();" style="cursor: pointer;position: relative;top:-1rem;">Clear Cart -</h1>
                    <i class="fas fa-trash fa-2x" onclick="removecart();"
                        style="cursor: pointer;position: relative;top:-1rem;"></i>
                </div>


            </div>

        </div>


        <footer class="footer" style="margin-top:15rem;" id="footer">

            <div class="row">
                <div class="footer-col">
                    <b>
                    <h4>QUICK LINKS</h4>
                    </b>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="product-finding.html">products</a></li>
                        <li><a href="cart.html">cart</a></li>
                        <li><a href="custom-Products.html">custom products</a></li>
                    </ul>
                </div>
                <div class="footer-col1">
                    <h4>ABOUT US</h4>
                    <ul>
                        <li><a style="cursor: default;">We are one of the best Furniture Companys in India</a></li>
                        <li><a style="cursor: default;">Based in India We supply Furniture all around the world</a></li>
                    </ul>
                </div>
                
                <div class="footer-col">
                    <h4>FOLLOW US</h4>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d7015.899024485675!2d77.08437189999998!3d28.4509383!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sin!4v1643020034707!5m2!1sen!2sin" width="225" height="250" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </div>

            </div>
       
   </footer>



    </div>

</body>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script src="js/cart.js" type="module"></script>

<script src="js/login.js" type="module"></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script>



    var email = window.sessionStorage.getItem('user');


    if (email == null) {
        console.log("no user")

    }
    else {
        document.getElementById('login-btn').style = "display:none;"
        document.getElementById('logout-btn').style = "display:block;"

        console.log("user logged in")

    }



    function logout() {

        const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success',
                cancelButton: 'btn btn-danger'
            },
            buttonsStyling: false
        })

        swalWithBootstrapButtons.fire({
            title: 'Are you sure you want to logout!',

            icon: 'warning',
            showCancelButton: true,
            confirmButtonText: 'Yes',
            cancelButtonText: 'No, cancel!',
            reverseButtons: true
        }).then((result) => {
            if (result.isConfirmed) {
                swalWithBootstrapButtons.fire(

                    'You have been logged out',


                )
                document.getElementById('login-btn').style = "display:block;"
                document.getElementById('logout-btn').style = "display:none;"

                window.sessionStorage.removeItem('user');
                location.reload();




            } else if (
                /* Read more about handling dismissals below */
                result.dismiss === Swal.DismissReason.cancel
            ) {
                swalWithBootstrapButtons.fire(
                    'Cancelled',

                )
            }
        })


    }


    function checkout() {
        var email = window.sessionStorage.getItem('user');
        if (email == null) {
            if (window.localStorage.getItem('cart') != null && window.localStorage.getItem('cart') != 0) {
                var name = document.getElementsByClassName('pnamec')
                var quan = document.getElementsByClassName('quanin')
                window.sessionStorage.setItem('checkout', name.length)

                for (var i = 1; i <= name.length; i++) {


                    window.sessionStorage.setItem('checkoutn' + i, name[i - 1].innerHTML);
                    window.sessionStorage.setItem('checkoutq' + i, quan[i - 1].value);
                    console.log(window.sessionStorage.getItem('checkoutn' + i) + " x " + window.sessionStorage.getItem('checkoutq' + i))

                }
                removecart();
                window.location.replace('Checkout.html');
            }
            else{
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'No Items in cart',
                    
                    })
            }
        }
        else {
            if (window.localStorage.getItem('cart' + email) != null && window.localStorage.getItem('cart' + email) != 0) {
                var name = document.getElementsByClassName('pnamec')
                var quan = document.getElementsByClassName('quanin')
                window.sessionStorage.setItem('checkout', name.length)

                for (var i = 1; i <= name.length; i++) {


                    window.sessionStorage.setItem('checkoutn' + i, name[i - 1].innerHTML);
                    window.sessionStorage.setItem('checkoutq' + i, quan[i - 1].value);
                    console.log(window.sessionStorage.getItem('checkoutn' + i) + " x " + window.sessionStorage.getItem('checkoutq' + i))

                }
                removecart();
                window.location.replace('Checkout.html');
            }
            else{
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: 'No Items in cart',
                    
                    })
            }

        }




    }





    function removecart() {
        email = window.sessionStorage.getItem('user');
        if (email == null) {
            window.localStorage.removeItem('cart'); location.reload();

        }
        else {
            window.localStorage.removeItem('cart' + email); location.reload();

        }

    }



    function calculatet() {


        var email = window.sessionStorage.getItem('user');
        var total = 0;

        var data = window.data1;

        var quan = document.getElementsByClassName('quanin')

        for (var i = 1; i <= quan.length; i++) {

            if (email == null) {
                total += quan[i - 1].value * parseFloat(data[parseInt(window.localStorage.getItem('cart' + i)) - 1].price)


            }
            else {
                total += quan[i - 1].value * parseFloat(data[parseInt(window.localStorage.getItem('cart' + email + i)) - 1].price)

            }

        }

        if(total > 1)
       {
        window.sessionStorage.setItem('total',parseInt(total+1))
        document.getElementById('SubTC').innerHTML = "₹" + parseInt(total+1);
        document.getElementById('SubTC1').innerHTML = "₹" + parseInt(total+1);
        document.getElementById('helpme').innerHTML = "₹" + parseInt(total+1);

       }
       else{
        window.sessionStorage.setItem('total',0)
        document.getElementById('SubTC').innerHTML = "₹" + 0
        document.getElementById('SubTC1').innerHTML = "₹" + 0
        document.getElementById('helpme').innerHTML = "₹" + 0

       }

    }





</script>

<script type="module">
    import data from './js/product.js';
    window.data1 = data;

</script>

<script>
    function main(e) {
        sessionStorage.setItem("current", parseInt(e));
        console.log(window.current);
        window.location.replace("product-detail.html")
    }
</script>

<script>
    const body = document.querySelector("body");
    const navbar = document.querySelector(".navbar");
    const menuBtn = document.querySelector(".menu-btn");
    const cancelBtn = document.querySelector(".cancel-btn");
    menuBtn.onclick = () => {
        navbar.classList.add("show");
        menuBtn.classList.add("hide");
        body.classList.add("disabled");
    }
    cancelBtn.onclick = () => {
        body.classList.remove("disabled");
        navbar.classList.remove("show");
        menuBtn.classList.remove("hide");
    }
    window.onscroll = () => {
        this.scrollY > 20 ? navbar.classList.add("sticky") : navbar.classList.remove("sticky");
    }




    document.getElementById("nav").style.boxShadow = "0px -6px 5px 10px rgba(0,0,0,0.4)";
    document.getElementById("nav").style.backgroundImage = "linear-gradient(to bottom right, var(--dark1), var(--dark2))";

</script>



</html>
